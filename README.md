
# Stock Analysis App with GPT-4 and LangChain

An interactive stock analysis application built with Streamlit, leveraging GPT-4 and LangChain for enhanced analysis and recommendations. The app allows users to analyze stocks from multiple exchanges, craft their own investment strategies, backtest them, and gain insights into technical indicators.

## Features

- **Multi-Exchange Support:**
  - Analyze stocks from:
    - **US**
    - **Australia (ASX)**
    - **India (NSE & BSE)**
    - **Singapore**
    - **Hong Kong**
    - **China (Shanghai & Shenzhen)**
- **Technical Indicator Analysis:**
  - Calculate and visualize a wide range of technical indicators using the `ta` library.
  - Indicators include moving averages, RSI, MACD, and more.
- **Strategy Builder:**
  - Create personalized investment strategies based on selected technical indicators and thresholds.
  - Define investment goals, risk tolerance, and investment horizon.
- **Backtesting Module:**
  - Test your strategies on historical data to evaluate performance.
  - Visualize portfolio value over time and assess strategy effectiveness.
- **GPT-4 Powered Recommendations:**
  - Receive investment recommendations tailored to your strategy and current market data.
  - Leverages OpenAI's GPT-4 via LangChain for natural language processing.
- **Internet Buzz:**
  - Get the latest news articles relevant to your selected stock.
  - News items are filtered to ensure relevance to the specific company.
- **Educational Resources:**
  - Learn about technical indicators with detailed explanations generated by GPT-4.
  - Access educational content to enhance your understanding of market analysis.

## Installation

### Prerequisites

- **Python 3.7 or higher**
- **API Keys:**
  - OpenAI API Key
  - NewsAPI Key

### Options for Setting Up the Environment

You can set up the project environment using either `pip` or `Poetry`. Choose the method you prefer.

### Option 1: Using pip

#### Steps

1. **Clone the Repository:**

   ```bash
   git clone https://github.com/yourusername/stock-analysis-app.git
   cd stock-analysis-app
   ```

2. **Create a Virtual Environment (Optional but Recommended):**

   ```bash
   python -m venv venv
   source venv/bin/activate  # On Windows use `venv\Scripts\activate`
   ```

3. **Install Dependencies:**

   ```bash
   pip install -r requirements.txt
   ```

4. **Set Up Environment Variables:**

   - Create a `.env` file in the root directory.
   - Add your OpenAI and NewsAPI API keys:

     ```env
     OPENAI_API_KEY=your-openai-api-key
     NEWS_API_KEY=your-newsapi-key
     ```

5. **Download NLTK Data (If Required):**

   If you encounter issues with NLTK, you may need to download additional data:

   ```python
   import nltk
   nltk.download('punkt')
   ```

### Option 2: Using Poetry

[Poetry](https://python-poetry.org/) is a tool for dependency management and packaging in Python.

#### Steps

1. **Install Poetry:**

   ```bash
   # For macOS/Linux
   curl -sSL https://install.python-poetry.org | python3 -

   # For Windows (PowerShell)
   (Invoke-WebRequest -Uri https://install.python-poetry.org -UseBasicParsing).Content | python -
   ```

   - After installation, ensure that Poetry's bin directory is in your `PATH`.

2. **Clone the Repository:**

   ```bash
   git clone https://github.com/yourusername/stock-analysis-app.git
   cd stock-analysis-app
   ```

3. **Install Dependencies:**

   ```bash
   poetry install
   ```

   - This will create a virtual environment and install all dependencies specified in `pyproject.toml`.

4. **Activate the Virtual Environment:**

   ```bash
   poetry shell
   ```

5. **Set Up Environment Variables:**

   - Create a `.env` file in the root directory.
   - Add your OpenAI and NewsAPI API keys:

     ```env
     OPENAI_API_KEY=your-openai-api-key
     NEWS_API_KEY=your-newsapi-key
     ```

6. **Download NLTK Data (If Required):**

   If you encounter issues with NLTK, you may need to download additional data:

   ```python
   import nltk
   nltk.download('punkt')
   ```

## Usage

Run the Streamlit application:

```bash
streamlit run streamlit_app.py
```

### Application Workflow

1. **Enter Stock Ticker Symbol:**

   - Input the stock symbol you want to analyze (e.g., `AAPL` for Apple Inc.).

2. **Select Exchange:**

   - Choose the exchange where the stock is listed from the dropdown menu.

3. **Set Up User Profile:**

   - In the sidebar, fill out your investment goal, risk tolerance, and investment horizon.

4. **Define Your Strategy:**

   - Select technical indicators for your strategy.
   - Set buy and sell thresholds based on indicator values.

5. **Select Time Period for Analysis:**

   - Choose the start and end dates for your analysis.

6. **View Technical Indicators and Plots:**

   - The app calculates and displays selected technical indicators.
   - Visualize indicators through interactive plots.

7. **Fetch Internet Buzz:**

   - The app retrieves relevant news articles about the selected company.

8. **Get Recommendations:**

   - Receive a personalized investment recommendation based on your strategy.

9. **Run Backtest:**

   - Test your strategy on historical data to evaluate performance.

10. **Learn About Technical Indicators:**

    - Use the sidebar to get detailed explanations of technical indicators.

## Screenshots

*Include screenshots of your application here if desired.*

## Dependencies

Make sure to include a `requirements.txt` or `pyproject.toml` file in your repository with all the necessary dependencies.

### Sample `requirements.txt` (for pip)

```txt
streamlit
yfinance
pandas
numpy
ta
plotly
python-dotenv
requests
langchain
openai
nltk
```

### Sample `pyproject.toml` (for Poetry)

```toml
[tool.poetry]
name = "stock-analysis-app"
version = "0.1.0"
description = "An interactive stock analysis application."
authors = ["Your Name <your.email@example.com>"]

[tool.poetry.dependencies]
python = "^3.7"
streamlit = "*"
yfinance = "*"
pandas = "*"
numpy = "*"
ta = "*"
plotly = "*"
python-dotenv = "*"
requests = "*"
langchain = "*"
openai = "*"
nltk = "*"

[build-system]
requires = ["poetry-core"]
build-backend = "poetry.core.masonry.api"
```

**Note:** Replace `*` with specific version numbers if necessary.

## Contributing

Contributions are welcome! Please open an issue or submit a pull request.

### Steps to Contribute

1. **Fork the Repository**

2. **Create a Feature Branch**

   ```bash
   git checkout -b feature/YourFeature
   ```

3. **Commit Your Changes**

   ```bash
   git commit -m "Add your detailed commit message here"
   ```

4. **Push to Your Branch**

   ```bash
   git push origin feature/YourFeature
   ```

5. **Open a Pull Request**

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## Acknowledgments

- [Streamlit](https://streamlit.io/)
- [LangChain](https://github.com/hwchase17/langchain)
- [OpenAI GPT-4](https://openai.com/)
- [Yahoo Finance](https://finance.yahoo.com/)
- [NewsAPI](https://newsapi.org/)
- [TA-Lib](https://github.com/mrjbq7/ta-lib)
- [Python Dotenv](https://saurabh-kumar.com/python-dotenv/)
- [Poetry](https://python-poetry.org/)

## Contact

- **Author:** Vimal Kansal
- **Email:** vimalkansal@yahoo.com
- **GitHub:** [vimalkansal](https://github.com/vimalkansal)
